<%- include('partials/header') %>
    <%- include('partials/navbar') %>

        <div class="flex-grow-1">
            <div class="py-5 container">
                <div class="justify-content-center row">
                    <div class="col-xl-9 col-lg-10 col-md-11">
                        <div class="card login-card">
                            <div class="p-0 card-body">
                                <div class="g-0 row">
                                    <!-- <div class="col-md-6 login-card-right">
                                        <div class="text-center mb-4">
                                            <h2 class="login-title">REGISTER</h2>
                                            <p class="login-access-desc">It's completely free</p>
                                        </div>
                                        <form class="register-form" action="/auth/register" method="POST"
                                            id="register-form" style="width: 100%;">
                                            <div class="row">
                                                <div class="col-md-6 mb-3 pe-1">
                                                    <input placeholder="First name" class="form-control login-input" type="text" 
                                                        name="first-name" id="first-name" value="<%= formData?.firstName || '' %>">
                                                    <div class="error-message text-danger small mt-1"></div>
                                                </div>
                                                <div class="col-md-6 mb-3 ps-1">
                                                    <input placeholder="Last name" class="form-control login-input" type="text" 
                                                        name="last-name" id="last-name" value="<%= formData?.lastName || '' %>">
                                                    <div class="error-message text-danger small mt-1"></div>
                                                </div>
                                            </div>
                                            <div class="mb-3">
                                                <input placeholder="Email" class="form-control login-input" type="email"
                                                    name="email" id="email" value="<%= formData?.email || '' %>">
                                                <div class="error-message text-danger small mt-1"></div>
                                            </div>
                                            <div class="mb-3">
                                                <input placeholder="Contact" class="form-control login-input" type="tel"
                                                    name="contact" id="contact" value="<%= formData?.contact || '' %>">
                                                <div class="error-message text-danger small mt-1"></div>
                                            </div>
                                            <div class="mb-3">
                                                <select placeholder="Role" class="form-control login-input"
                                                    name="role" id="role">
                                                    <option value="" disabled <%=!formData?.accountType ? 'selected' : '' %>>Select Your Role</option>
                                                    <option value="Donor" <%=formData?.accountType==='donor' ? 'selected' : '' %>>Donor</option>
                                                    <option value="NGO" <%=formData?.accountType==='ngo' ? 'selected' : '' %>>NGO</option>
                                                    <option value="Volunteer" <%=formData?.accountType==='volunteer' ? 'selected' : '' %>>Volunteer</option>
                                                </select>
                                                <div class="error-message text-danger small mt-1"></div>
                                            </div>
                                            <div class="mb-4">
                                                <textarea placeholder="Address" class="form-control login-input" name="address"
                                                    id="address"><%= formData?.address || '' %></textarea>
                                                <div class="error-message text-danger small mt-1"></div>
                                            </div>
                                            <div class="mb-4">
                                                <input placeholder="Password" class="form-control login-input"
                                                    type="password" name="password" id="password">
                                                <div class="error-message text-danger small mt-1"></div>
                                            </div>
                                            <div class="mb-4">
                                                <input placeholder="Confirm password" class="form-control login-input"
                                                    type="password" name="confirm-password" id="confirm-password">
                                                <div class="error-message text-danger small mt-1"></div>
                                            </div>
                                            <button type="submit" class="btn btn-primary login-btn">Sign Up</button>
                                        </form>
                                        <div class="text-center mt-4">
                                            <p class="login-register-link">
                                                Already have an account?
                                                <a href="/auth/login" class="login-link">Login</a>
                                            </p>
                                        </div>
                                    </div> -->
                                    <div class="col-md-6 login-card-right">
                                        <div class="text-center mb-4">
                                            <h2 class="login-title">REGISTER</h2>
                                            <p class="login-access-desc">It's completely free</p>
                                        </div>
                                    
                                        <!-- Step 1: Role Selection -->
                                        <div id="role-step">
                                            <div class="mb-3">
                                                <select class="form-control login-input" id="roleSelect">
                                                    <option value="" disabled selected>Select Your Role</option>
                                                    <option value="Donor">Donor</option>
                                                    <option value="NGO">NGO</option>
                                                    <option value="Volunteer">Volunteer</option>
                                                </select>
                                            </div>
                                            <button id="nextBtn" class="btn btn-primary login-btn" disabled>Next</button>
                                        </div>
                                    
                                        <!-- Step 2: Dynamic Form -->
                                        <form class="register-form" action="/auth/register" method="POST" id="register-form"
                                            style="width: 100%; display: none;">
                                            <div id="dynamic-fields"></div>
                                    
                                            <!-- Change role -->
                                            <p class="mt-3">
                                                <a href="#" id="changeRole">Change role?</a>
                                            </p>
                                    
                                            <button type="submit" class="btn btn-primary login-btn">Sign Up</button>
                                        </form>
                                    
                                        <div class="text-center mt-4">
                                            <p class="login-register-link">
                                                Already have an account?
                                                <a href="/auth/login" class="login-link">Login</a>
                                            </p>
                                        </div>
                                    </div>
                                    
                                    <div class="d-flex col-md-6 login-card-left">
                                        <div class="text-center position-relative">
                                            <div class="login-logo-circle">
                                                <h3 class="login-logo-text">
                                                    ANNA<br>MITRA
                                                </h3>
                                            </div>
                                            <h3 class="login-welcome-title">Join Us</h3>
                                            <p class="login-welcome-desc">Create an account to start donating</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


<%- include('partials/footer') %>
